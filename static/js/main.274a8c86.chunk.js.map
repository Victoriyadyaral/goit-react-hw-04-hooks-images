{"version":3,"sources":["components/imageGalleryItem/ImageGalleryItem.module.css","components/searchbar/Searchbar.module.css","components/modal/Modal.module.css","components/imageGallery/ImageGallery.module.css","components/imageErrorView/ImageErrorView.module.css","components/imagePendingView/ImagePendingView.module.css","components/container/Container.module.css","components/button/Button.module.css","components/container/Container.js","components/searchbar/Searchbar.js","components/modal/Modal.js","components/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","image/errorImage.jpg","components/imageErrorView/ImageErrorView.js","components/imagePendingView/ImagePendingView.js","components/button/Button.js","services/findImages-api.js","components/imagesInfo/ImagesInfo.js","App.js","index.js"],"names":["module","exports","Container","children","className","s","container","Searchbar","onSubmit","useState","requestTerm","setRequestTerm","reset","searchbar","searchFormWrap","searchForm","event","preventDefault","trim","toast","error","searchFormInput","type","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","searchFormButton","style","marginRight","color","size","modalRoot","document","querySelector","Modal","onClose","alt","src","useEffect","console","log","window","addEventListener","handleKeyDown","removeEventListener","e","code","createPortal","overlay","onClick","target","modal","width","ImageGalleryItem","webformatURL","tags","largeImageURL","likes","views","comments","showModal","setShowModal","toggleModal","galleryItem","photoCard","galleryImg","stats","statsItem","statsNumber","ImageGallery","images","wrap","gallery","map","image","id","ImageErrorView","message","role","errorWrap","errorImage","errorMessage","ImagePendingView","spinner","iconSpin","Button","button","api","fetchImage","page","url","fetch","then","response","ok","json","Promise","reject","Error","Status","ImagesInfo","initialImages","initialPage","setImages","setPage","setError","status","setStatus","findImages","term","requestPage","findImagesAPI","total","info","hits","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","length","p","App","newTerm","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.274a8c86.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"ImageGalleryItem_galleryItem__hD3ua\",\"galleryImg\":\"ImageGalleryItem_galleryImg__1Byws\",\"stats\":\"ImageGalleryItem_stats__W5HS5\",\"statsItem\":\"ImageGalleryItem_statsItem__3770g\",\"statsNumber\":\"ImageGalleryItem_statsNumber__3TxSX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__-JjR3\",\"searchForm\":\"Searchbar_searchForm__2cEmj\",\"searchFormWrap\":\"Searchbar_searchFormWrap__2wv3q\",\"searchFormButton\":\"Searchbar_searchFormButton__Xmx2d\",\"searchFormInput\":\"Searchbar_searchFormInput__2U2Xw\",\"SearchFormInput\":\"Searchbar_SearchFormInput__EcEi7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__ireN6\",\"modal\":\"Modal_modal__4UkFx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"ImageGallery_wrap__1Lp13\",\"gallery\":\"ImageGallery_gallery__1HI6n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorWrap\":\"ImageErrorView_errorWrap__17NJm\",\"errorMessage\":\"ImageErrorView_errorMessage__2BJbe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"ImagePendingView_spinner__a-18v\",\"iconSpin\":\"ImagePendingView_iconSpin__2uJtS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3Gl7F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2MUQQ\"};","import s from \"./Container.module.css\";\r\n\r\nfunction Container({ children }) {\r\n  return <div className={s.container}>{children}</div>;\r\n}\r\n\r\nexport default Container;","import { useState } from 'react';\r\nimport { toast } from \"react-toastify\";\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport s from './Searchbar.module.css'\r\n\r\nfunction Searchbar ({onSubmit}) {\r\n\r\n    const [requestTerm, setRequestTerm] = useState('');\r\n\r\n\r\n    const handleInputChange = (event) => {\r\n        setRequestTerm(event.currentTarget.value.toLowerCase());\r\n    };\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n\r\n        if (requestTerm.trim() === '') {\r\n          toast.error('Sorry, that search term has no results. Please try an alternate search term.');\r\n        return;\r\n    }\r\n\r\n        onSubmit(requestTerm);\r\n        reset();\r\n    };\r\n\r\n    const reset = () => {\r\n        setRequestTerm('');\r\n    };\r\n\r\n        return (\r\n            <header className={s.searchbar}>\r\n                <h1>Image-finder</h1>\r\n                <div className={s.searchFormWrap}>\r\n                <form className={s.searchForm} onSubmit = {handleSubmit}>\r\n                    <input\r\n                      className={s.searchFormInput}\r\n                      type=\"text\"\r\n                      autoComplete=\"off\"\r\n                      autoFocus\r\n                      placeholder=\"Search images and photos\"\r\n                      value={requestTerm}\r\n                      onChange = {handleInputChange}                 \r\n                     />\r\n                        \r\n                    <button type=\"submit\" className={s.searchFormButton}>\r\n                            <FaSearch\r\n                                style={{ marginRight: 8 }}\r\n                                color=\"rgb(90, 64, 90)\"\r\n                                size=\"30px\"\r\n                                aria-label=\"Search images\" />\r\n                    </button>\r\n                    </form>\r\n                    </div>\r\n            </header>\r\n        )\r\n}\r\n\r\nSearchbar.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;","import  { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './Modal.module.css'\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nfunction Modal ({onClose, alt, src}) {\r\n\r\n  useEffect(() => {\r\n    console.log('mount');\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      console.log('unmount');\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  });\r\n\r\n  const handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n    return createPortal(\r\n      <div className={s.overlay} onClick={handleBackdropClick}>\r\n        <div className={s.modal}>\r\n          <img src={src} alt={alt} width=\"1000\"/>\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n}\r\n\r\nModal.propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n    src: PropTypes.string,\r\n    alt: PropTypes.string,\r\n};\r\n\r\nexport default Modal;","import  { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { FaRegThumbsUp, FaRegEye, FaRegCommentDots } from 'react-icons/fa';\r\n\r\nimport Modal from '../modal/Modal';\r\n\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nfunction ImageGalleryItem ({webformatURL, tags, largeImageURL, likes, views, comments }) {\r\n\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const toggleModal = () => {\r\n    setShowModal(!showModal);\r\n };\r\n\r\n        return (\r\n          <li className={s.galleryItem}>\r\n            <div className={s.photoCard}>\r\n              <img\r\n                className={s.galleryImg}\r\n                src={webformatURL}\r\n                alt={tags}\r\n                onClick={toggleModal}\r\n              />\r\n              <div className={s.stats}>\r\n                        <p className={s.statsItem}>\r\n                            <FaRegThumbsUp style={{ marginRight: 8 }} />\r\n                            <span className={s.statsNumber}>{likes}</span>\r\n                        </p>\r\n                        <p className={s.statsItem}>\r\n                            <FaRegEye style={{ marginRight: 8 }} />\r\n                            <span className={s.statsNumber}>{views}</span>\r\n                        </p>\r\n                        <p className={s.statsItem}>\r\n                            <FaRegCommentDots style={{ marginRight: 8 }} />\r\n                            <span className={s.statsNumber}>{comments}</span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n        {showModal && (\r\n          <Modal onClose={toggleModal} src={largeImageURL} alt={tags} />\r\n        )}\r\n            </li>\r\n        );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n    webformatURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string,\r\n};\r\n\r\nexport default ImageGalleryItem;","import PropTypes from 'prop-types';\r\n\r\nimport ImageGalleryItem from '../imageGalleryItem/ImageGalleryItem';\r\n\r\nimport s from './ImageGallery.module.css';\r\n\r\nfunction ImageGallery({ images }) {\r\n    return (\r\n            <div className={s.wrap}>\r\n            <ul className={s.gallery}>\r\n                {images.map((image) => (\r\n                    <ImageGalleryItem\r\n                        key={image.id}\r\n                        tags={image.tags}\r\n                        views={image.views}\r\n                        likes={image.likes}\r\n                        comments={image.comments}\r\n                        webformatURL={image.webformatURL}\r\n                        largeImageURL={image.largeImageURL}\r\n                    />\r\n                ))}\r\n            </ul>\r\n            </div>\r\n        );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n    images: PropTypes.array,\r\n}\r\n\r\nexport default ImageGallery;","export default __webpack_public_path__ + \"static/media/errorImage.3b859cf7.jpg\";","import PropTypes from 'prop-types';\r\nimport s from './ImageErrorView.module.css';\r\nimport errorImage from '../../image/errorImage.jpg';\r\n\r\nexport default function ImageErrorView({ message }) {\r\n  return (\r\n    <div role=\"alert\" className={s.errorWrap}>\r\n      <img src={errorImage} width=\"340\" alt=\"error\" />\r\n      <p className={s.errorMessage}>Sorry, something went wrong. Error:{message}.</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nImageErrorView.propTypes = {\r\n  message: PropTypes.string.isRequired,\r\n};","import { FaSpinner } from 'react-icons/fa';\r\nimport s from './ImagePendingView.module.css';\r\n\r\nexport default function ImagePendingView() {\r\n  return (\r\n    <div role=\"alert\">\r\n      <div className={s.spinner}>\r\n        <FaSpinner size=\"150\" className={s.iconSpin} />\r\n        Loading...\r\n      </div>\r\n    </div>\r\n  );\r\n}","import PropTypes from 'prop-types';\r\n\r\nimport s from './Button.module.css'\r\n\r\nfunction Button({ onClick}) {\r\n\r\n    return (\r\n        <button onClick={onClick} className={s.button} type=\"button\">\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","const API_KEY = '22396340-e0d4683315286afcf7ffb4767';\r\nconst BASE_URL = 'https://pixabay.com/api';\r\n\r\nfunction fetchImage(requestTerm, page) {\r\n\r\n  const url = `${BASE_URL}/?q=${requestTerm}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n\r\n  return fetch(url).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n\r\n    return Promise.reject(new Error(`No results on request ${requestTerm}`));\r\n  });\r\n}\r\n\r\nconst api = {\r\n  fetchImage,\r\n};\r\n\r\nexport default api;","import { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport ImageGallery from '../imageGallery/ImageGallery';\r\nimport ImageErrorView from '../imageErrorView/ImageErrorView';\r\nimport ImagePendingView from '../imagePendingView/ImagePendingView';\r\nimport Button from '../button/Button';\r\n\r\nimport findImagesAPI from '../../services/findImages-api';\r\n\r\nconst Status = {\r\n  IDLE: 'idle',\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n};\r\n\r\nfunction ImagesInfo ({requestTerm, initialImages, initialPage}) {\r\n\r\n  const [images, setImages] = useState(initialImages ?? []);\r\n  const [page, setPage] = useState(initialPage ?? 1);\r\n  const [error, setError] = useState(null);\r\n  const [status, setStatus] = useState(Status.IDLE);\r\n\r\n  const findImages = (term, requestPage, images) => {\r\n    \r\n    findImagesAPI\r\n      .fetchImage(term, requestPage)\r\n      .then(response => {\r\n        if (response.total > 0 && requestPage === 1) {\r\n        toast.info('Your images found. Have a nice viewing!')\r\n      } else\r\n      if (response.total === 0) {\r\n        setStatus(Status.IDLE);\r\n        toast.error('No image has been found. Please enter your request again!');  \r\n      }\r\n        setImages([...images,...response.hits]);\r\n        setStatus(Status.RESOLVED);\r\n      }\r\n      )\r\n      .catch(error => {\r\n        setError(error);\r\n        setStatus(Status.REJECTED);\r\n      })\r\n       .finally(() => {\r\n        window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n        });\r\n      });\r\n  };\r\n\r\n  const changePage = () => {\r\n    setPage(p => p + 1);\r\n    findImages(requestTerm, page, images);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!requestTerm) {\r\n      return;\r\n  };\r\n  setStatus(Status.PENDING);\r\n  findImages(requestTerm, initialPage, initialImages);\r\n  setPage(2);\r\n   // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [requestTerm]);\r\n\r\n    if (status === 'idle') {\r\n      return <div> <h2>What images or photos are you looking for?</h2></div>;\r\n    }\r\n\r\n    if (status === 'pending') {\r\n        return  <ImagePendingView />;\r\n    }\r\n\r\n    if (status === 'rejected') {\r\n      return <ImageErrorView message={error.message} />;\r\n    }\r\n\r\n    if (status === 'resolved') {\r\n      return (\r\n        <>\r\n        <ImageGallery images={images} />\r\n        {images.length >11 && (\r\n          <Button onClick={changePage} />\r\n        )}\r\n        </>\r\n      )}\r\n};\r\n\r\nImagesInfo.propTypes = {\r\n    requestTerm: PropTypes.string.isRequired,\r\n    initialPage: PropTypes.number.isRequired,\r\n    initialImages: PropTypes.array.isRequired,\r\n  };\r\n\r\nexport default ImagesInfo;","import './App.css';\nimport { useState } from 'react';\nimport { ToastContainer } from 'react-toastify';\n \nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Container from './components/container/Container';\nimport Searchbar from './components/searchbar/Searchbar';\nimport ImagesInfo from './components/imagesInfo/ImagesInfo';\n\nexport default function App () {\n  const [requestTerm, setRequestTerm] = useState('')\n  const [initialImages, setImages] = useState([]);\n  const [initialPage, setPage] = useState(1);\n\n  const handleFormSubmit = (newTerm) => {\n    if (newTerm === requestTerm) {\n      return;\n    }\n      setRequestTerm(newTerm);\n      setImages([]);\n      setPage(1);\n  }; \n\n    return (\n      <Container>\n        <Searchbar onSubmit={handleFormSubmit} />\n        <ImagesInfo\n          requestTerm={requestTerm}\n          initialImages={initialImages}\n          initialPage={initialPage}\n        />\n         <ToastContainer\n          position=\"top-right\"\n          autoClose={3000}\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n          />\n      </Container>\n    );\n}","  \nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}