(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{18:function(e,t,a){e.exports={overlay:"Modal_overlay__ireN6",modal:"Modal_modal__4UkFx"}},19:function(e,t,a){e.exports={wrap:"ImageGallery_wrap__1Lp13",gallery:"ImageGallery_gallery__1HI6n"}},20:function(e,t,a){e.exports={errorWrap:"ImageErrorView_errorWrap__17NJm",errorMessage:"ImageErrorView_errorMessage__2BJbe"}},21:function(e,t,a){e.exports={spinner:"ImagePendingView_spinner__a-18v",iconSpin:"ImagePendingView_iconSpin__2uJtS"}},26:function(e,t,a){e.exports={container:"Container_container__3Gl7F"}},28:function(e,t,a){e.exports={button:"Button_button__2MUQQ"}},3:function(e,t,a){e.exports={galleryItem:"ImageGalleryItem_galleryItem__hD3ua",galleryImg:"ImageGalleryItem_galleryImg__1Byws",stats:"ImageGalleryItem_stats__W5HS5",statsItem:"ImageGalleryItem_statsItem__3770g",statsNumber:"ImageGalleryItem_statsNumber__3TxSX"}},34:function(e,t,a){},35:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),n=a(4),c=a.n(n),o=(a(33),a(34),a(2)),i=(a(35),a(6)),l=(a(36),a(26)),m=a.n(l),u=a(1);var j=function(e){var t=e.children;return Object(u.jsx)("div",{className:m.a.container,children:t})},b=a(5),g=a(7),h=a.n(g);var d=function(e){var t=e.onSubmit,a=Object(r.useState)(""),s=Object(o.a)(a,2),n=s[0],c=s[1],l=function(){c("")};return Object(u.jsxs)("header",{className:h.a.searchbar,children:[Object(u.jsx)("h1",{children:"Image-finder"}),Object(u.jsx)("div",{className:h.a.searchFormWrap,children:Object(u.jsxs)("form",{className:h.a.searchForm,onSubmit:function(e){e.preventDefault(),""!==n.trim()?(t(n),l()):i.b.error("Sorry, that search term has no results. Please try an alternate search term.")},children:[Object(u.jsx)("input",{className:h.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:n,onChange:function(e){c(e.currentTarget.value.toLowerCase())}}),Object(u.jsx)("button",{type:"submit",className:h.a.searchFormButton,children:Object(u.jsx)(b.d,{style:{marginRight:8},color:"rgb(90, 64, 90)",size:"30px","aria-label":"Search images"})})]})})]})},O=a(22),p=a(18),_=a.n(p),f=document.querySelector("#modal-root");var x=function(e){var t=e.onClose,a=e.alt,s=e.src;Object(r.useEffect)((function(){return console.log("mount"),window.addEventListener("keydown",c),function(){console.log("unmount"),window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(n.createPortal)(Object(u.jsx)("div",{className:_.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(u.jsx)("div",{className:_.a.modal,children:Object(u.jsx)("img",{src:s,alt:a,width:"1000"})})}),f)},v=a(3),I=a.n(v);var y=function(e){var t=e.webformatURL,a=e.tags,s=e.largeImageURL,n=e.likes,c=e.views,i=e.comments,l=Object(r.useState)(!1),m=Object(o.a)(l,2),j=m[0],g=m[1],h=function(){g(!j)};return Object(u.jsxs)("li",{className:I.a.galleryItem,children:[Object(u.jsxs)("div",{className:I.a.photoCard,children:[Object(u.jsx)("img",{className:I.a.galleryImg,src:t,alt:a,onClick:h}),Object(u.jsxs)("div",{className:I.a.stats,children:[Object(u.jsxs)("p",{className:I.a.statsItem,children:[Object(u.jsx)(b.c,{style:{marginRight:8}}),Object(u.jsx)("span",{className:I.a.statsNumber,children:n})]}),Object(u.jsxs)("p",{className:I.a.statsItem,children:[Object(u.jsx)(b.b,{style:{marginRight:8}}),Object(u.jsx)("span",{className:I.a.statsNumber,children:c})]}),Object(u.jsxs)("p",{className:I.a.statsItem,children:[Object(u.jsx)(b.a,{style:{marginRight:8}}),Object(u.jsx)("span",{className:I.a.statsNumber,children:i})]})]})]}),j&&Object(u.jsx)(x,{onClose:h,src:s,alt:a})]})},w=a(19),N=a.n(w);var S=function(e){var t=e.images;return Object(u.jsx)("div",{className:N.a.wrap,children:Object(u.jsx)("ul",{className:N.a.gallery,children:t.map((function(e){return Object(u.jsx)(y,{tags:e.tags,views:e.views,likes:e.likes,comments:e.comments,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL},e.id)}))})})},k=a(20),F=a.n(k),C=a.p+"static/media/errorImage.3b859cf7.jpg";function E(e){var t=e.message;return Object(u.jsxs)("div",{role:"alert",className:F.a.errorWrap,children:[Object(u.jsx)("img",{src:C,width:"340",alt:"error"}),Object(u.jsxs)("p",{className:F.a.errorMessage,children:["Sorry, something went wrong. Error:",t,"."]})]})}var L=a(21),R=a.n(L);function B(){return Object(u.jsx)("div",{role:"alert",children:Object(u.jsxs)("div",{className:R.a.spinner,children:[Object(u.jsx)(b.e,{size:"150",className:R.a.iconSpin}),"Loading..."]})})}var P=a(27),U=a(28),G=a.n(U);var W=function(e){var t=e.onClick;return _scroll=function(){t(),P.animateScroll.scrollToBottom()},Object(u.jsx)("button",{onClick:_scroll,className:G.a.button,type:"button",children:"Load more"})};var q={fetchImage:function(e,t){var a="".concat("https://pixabay.com/api","/?q=").concat(e,"&page=").concat(t,"&key=").concat("22396340-e0d4683315286afcf7ffb4767","&image_type=photo&orientation=horizontal&per_page=12");return fetch(a).then((function(t){return t.ok?t.json():Promise.reject(new Error("No results on request ".concat(e)))}))}},M="idle",T="pending",J="resolved",H="rejected";var V=function(e){var t=e.requestTerm,a=e.initialImages,s=e.initialPage,n=Object(r.useState)(null!==a&&void 0!==a?a:[]),c=Object(o.a)(n,2),l=c[0],m=c[1],j=Object(r.useState)(null!==s&&void 0!==s?s:1),b=Object(o.a)(j,2),g=b[0],h=b[1],d=Object(r.useState)(null),p=Object(o.a)(d,2),_=p[0],f=p[1],x=Object(r.useState)(M),v=Object(o.a)(x,2),I=v[0],y=v[1],w=function(e,t,a){y(T),q.fetchImage(e,t).then((function(e){e.total>0&&1===t?i.b.info("Your images found. Have a nice viewing!"):0===e.total&&(y(M),i.b.error("No image has been found. Please enter your request again!")),m([].concat(Object(O.a)(a),Object(O.a)(e.hits))),y(J)})).catch((function(e){f(e),y(H)})).finally((function(){return y(J)}))};return Object(r.useEffect)((function(){t&&(w(t,s,a),h(2))}),[t]),"idle"===I?Object(u.jsxs)("div",{children:[" ",Object(u.jsx)("h2",{children:"What images or photos are you looking for?"})]}):"pending"===I?Object(u.jsx)(B,{}):"rejected"===I?Object(u.jsx)(E,{message:_.message}):"resolved"===I?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(S,{images:l}),l.length>11&&Object(u.jsx)(W,{onClick:function(){h((function(e){return e+1})),w(t,g,l)}})]}):void 0};function z(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),a=t[0],s=t[1],n=Object(r.useState)([]),c=Object(o.a)(n,2),l=c[0],m=c[1],b=Object(r.useState)(1),g=Object(o.a)(b,2),h=g[0],O=g[1];return Object(u.jsxs)(j,{children:[Object(u.jsx)(d,{onSubmit:function(e){e!==a&&(s(e),m([]),O(1))}}),Object(u.jsx)(V,{requestTerm:a,initialImages:l,initialPage:h}),Object(u.jsx)(i.a,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}c.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(z,{})}),document.getElementById("root"))},7:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__-JjR3",searchForm:"Searchbar_searchForm__2cEmj",searchFormWrap:"Searchbar_searchFormWrap__2wv3q",searchFormButton:"Searchbar_searchFormButton__Xmx2d",searchFormInput:"Searchbar_searchFormInput__2U2Xw",SearchFormInput:"Searchbar_SearchFormInput__EcEi7"}}},[[48,1,2]]]);
//# sourceMappingURL=main.3ce456c6.chunk.js.map